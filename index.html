<!DOCTYPE html>
<html lang="pl">
<head>
  <base href="/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wayfly – Strona główna</title>
  <link rel="icon" href="wayflyicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Menu -->
<nav>
  <a href="index.html">Oferty</a>
  <a href="faq.html">FAQ</a>
  <a href="regulamin/regulamin.html">Regulamin</a>
  <a href="#opinie">Opinie</a>
</nav>

<!-- Baner -->
<header></header>

<!-- Sekcja ofert -->
<section id="oferty" class="oferty">
  <a href="paryz.html" class="oferta">
    <img src="https://source.unsplash.com/featured/?paris,travel" alt="Paryż">
    <h3>Romantyczny weekend w Paryżu</h3>
    <p>Odkryj uroki Paryża z dopasowanym planem podróży.</p>
  </a>

  <a href="tatry.html" class="oferta">
    <img src="https://source.unsplash.com/featured/?mountains,travel" alt="Tatry">
    <h3>Górska przygoda w Tatrach</h3>
    <p>Plany tras, schronisk i najlepszych widoków.</p>
  </a>

  <a href="rzym/rzym.html" class="oferta">
    <img src="https://i.imgur.com/jkGLiLu.jpeg" alt="Rzym">
    <div class="overlay">Cena wyjazdu: 1000 zł | Cena planu: 30 zł</div>
    <div class="text-overlay">
      <h3>Kulturowa wyprawa do Rzymu</h3>
      <p>Zwiedzaj stolicę Włoch z przewodnikiem Wayfly</p>
    </div>
  </a>
</section>

<!-- Wyświetlanie opinii -->
<section id="reviewsSection">
  <h2 style="text-align:center; color:#0b74de; margin:40px 0 20px;">Opinie naszych klientów</h2>
  <div class="reviews-list" id="reviewsList"></div>
</section>

<!-- Sekcja opinii do dodawania -->
<section class="review-section" id="opinie">
  <h2>Dodaj swoją opinię</h2>
  <form id="reviewForm" class="review-form">
    <input type="email" id="email" placeholder="Twój email" required>
    <input type="number" id="rating" min="1" max="5" placeholder="Ocena (1-5)" required>
    <input type="text" id="tripTo" placeholder="Dokąd leciałeś?" required>
    <input type="date" id="tripStart" required>
    <input type="date" id="tripEnd" required>
    <textarea id="comment" placeholder="Twoja opinia" rows="4" required></textarea>
    <button type="submit">Wyślij opinię</button>
  </form>
  <div id="thankYouMessage"></div>
</section>

<!-- Sekcja FAQ -->
<section id="faq">
  <h2>FAQ – Najczęściej zadawane pytania</h2>
  <h3>Jak otrzymać własny plan podróży?</h3>
  <p>Skontaktuj się z nami...</p>
</section>

<footer>
  2025 Wayfly – indywidualne plany podróży 
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
import { getFirestore, collection, getDocs, query, orderBy, where } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAVcX9Kn-YxFUEij_DqPoJoitfSAdVqPBY",
  authDomain: "wayfly-opinie.firebaseapp.com",
  projectId: "wayfly-opinie",
  storageBucket: "wayfly-opinie.firebasestorage.app",
  messagingSenderId: "961643779503",
  appId: "1:961643779503:web:41594b733dbe8769f14b5a"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

function displayReview(review) {
  const container = document.getElementById("reviewsList");
  const div = document.createElement("div");
  div.classList.add("single-review");

  // Zamiana ratingu na gwiazdki
  const stars = "★".repeat(review.rating) + "☆".repeat(5 - review.rating);

  div.innerHTML = `
    <h3>${review.tripTo}</h3>
    <p class="review-stars">${stars}</p>
    <p>${review.comment}</p>
    <p class="review-email">${review.userEmail}</p>
  `;

  container.appendChild(div);
}

async function loadReviews() {
  const reviewsCol = collection(db, "reviews");
  const q = query(reviewsCol, where("approved", "==", true), orderBy("createdAt", "desc"));
  const snapshot = await getDocs(q);

  snapshot.forEach(doc => {
    displayReview(doc.data());
  });
}

loadReviews();
</script>

</body>
</html>























































