<!DOCTYPE html>
<html lang="pl">
<head>
  <base href="/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wayfly â€“ Strona gÅ‚Ã³wna</title>
  <link rel="icon" href="wayflyicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Menu -->
<nav>
  <a href="index.html">Oferty</a>
  <a href="faq.html">FAQ</a>
  <a href="regulamin/regulamin.html">Regulamin</a>
  <a href="#opinie">Opinie</a>
</nav>

<!-- Baner (bez napisu, dokÅ‚adnie jak wczeÅ›niej) -->
<header></header>

<!-- Sekcja ofert -->
<section id="oferty" class="oferty">
  <a href="paryz.html" class="oferta">
    <img src="https://source.unsplash.com/featured/?paris,travel" alt="ParyÅ¼">
    <h3 style="padding:10px 0 0 10px;">Romantyczny weekend w ParyÅ¼u</h3>
    <p style="padding:0 0 10px 10px;">Odkryj uroki ParyÅ¼a z dopasowanym planem podrÃ³Å¼y.</p>
  </a>

  <a href="tatry.html" class="oferta">
    <img src="https://source.unsplash.com/featured/?mountains,travel" alt="Tatry">
    <h3 style="padding:10px 0 0 10px;">GÃ³rska przygoda w Tatrach</h3>
    <p style="padding:0 0 10px 10px;">Plany tras, schronisk i najlepszych widokÃ³w.</p>
  </a>

  <a href="rzym/rzym.html" class="oferta">
    <img src="https://i.imgur.com/jkGLiLu.jpeg" alt="Rzym">
    <div class="overlay">Cena wyjazdu: 1000 zÅ‚ | Cena planu: 30 zÅ‚</div>
    <div class="text-overlay">
      <h3>Kulturowa wyprawa do Rzymu</h3>
      <p>Zwiedzaj stolicÄ™ WÅ‚och z przewodnikiem Wayfly</p>
    </div>
  </a>
</section>

<!-- Sekcja opinii -->
<section class="review-section" id="opinie">
  <h2>Dodaj swojÄ… opiniÄ™</h2>
  <form id="reviewForm" class="review-form">
    <input type="email" id="email" placeholder="TwÃ³j email" required>
    <input type="number" id="rating" min="1" max="5" placeholder="Ocena (1-5)" required>
    <input type="text" id="tripTo" placeholder="DokÄ…d leciaÅ‚eÅ›?" required>
    <input type="date" id="tripStart" placeholder="Data rozpoczÄ™cia podrÃ³Å¼y" required>
    <input type="date" id="tripEnd" placeholder="Data zakoÅ„czenia podrÃ³Å¼y" required>
    <textarea id="comment" placeholder="Twoja opinia" rows="4" required></textarea>
    <button type="submit">WyÅ›lij opiniÄ™</button>
  </form>
  <div id="thankYouMessage"></div>
</section>

 <!-- ğŸ”½ Tutaj pojawiÄ… siÄ™ zatwierdzone opinie -->
  <div id="reviewsList" class="reviews-list"></div>
</section>


<!-- Sekcja FAQ -->
<section id="faq">
  <h2>FAQ â€“ NajczÄ™Å›ciej zadawane pytania</h2>
  <h3>Jak otrzymaÄ‡ wÅ‚asny plan podrÃ³Å¼y?</h3>
  <p>Skontaktuj siÄ™ z nami...</p>
</section>

<footer>
  2025 Wayfly â€“ indywidualne plany podrÃ³Å¼y 
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAVcX9Kn-YxFUEij_DqPoJoitfSAdVqPBY",
  authDomain: "wayfly-opinie.firebaseapp.com",
  projectId: "wayfly-opinie",
  storageBucket: "wayfly-opinie.firebasestorage.app",
  messagingSenderId: "961643779503",
  appId: "1:961643779503:web:41594b733dbe8769f14b5a"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ğŸ”¹ WysyÅ‚anie opinii
document.getElementById("reviewForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("email").value;
  const rating = document.getElementById("rating").value;
  const tripTo = document.getElementById("tripTo").value;
  const comment = document.getElementById("comment").value;

  try {
    await addDoc(collection(db, "reviews"), {
      email,
      rating,
      tripTo,
      comment,
      createdAt: new Date(),
      approved: false // ğŸ”’ wymaga zatwierdzenia przez Ciebie
    });
    document.getElementById("thankYouMessage").textContent =
      "DziÄ™kujemy za opiniÄ™! Zostanie opublikowana po zatwierdzeniu.";
    document.getElementById("reviewForm").reset();
  } catch (error) {
    console.error("BÅ‚Ä…d przy wysyÅ‚aniu opinii:", error);
    document.getElementById("thankYouMessage").textContent =
      "Problem z wysÅ‚aniem opinii. SprÃ³buj ponownie.";
  }
});

// ğŸ”¹ Pobieranie zatwierdzonych opinii
async function loadApprovedReviews() {
  const q = query(collection(db, "reviews"), where("approved", "==", true));
  const snapshot = await getDocs(q);

  const reviewsList = document.getElementById("reviewsList");
  reviewsList.innerHTML = ""; // wyczyÅ›Ä‡ listÄ™

  snapshot.forEach((doc) => {
    const r = doc.data();
    const reviewDiv = document.createElement("div");
    reviewDiv.classList.add("single-review");
    reviewDiv.innerHTML = `
      <h3>âœˆï¸ ${r.tripTo}</h3>
      <p><strong>Ocena:</strong> ${r.rating}/5</p>
      <p>${r.comment}</p>
      <p class="review-email">ğŸ§­ ${r.email}</p>
      <hr>
    `;
    reviewsList.appendChild(reviewDiv);
  });
}

loadApprovedReviews();
</script>


</body>
</html>



















































