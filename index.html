<!DOCTYPE html>
<html lang="pl">
<head>
  <base href="/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wayfly ‚Äì Strona g≈Ç√≥wna</title>
  <link rel="icon" href="wayflyicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Menu -->
<nav>
  <a href="index.html">Oferty</a>
  <a href="faq.html">FAQ</a>
  <a href="regulamin/regulamin.html">Regulamin</a>
  <a href="#opinie">Opinie</a>
</nav>

<!-- Baner (bez napisu, dok≈Çadnie jak wcze≈õniej) -->
<header></header>

<!-- Sekcja ofert -->
<section id="oferty" class="oferty">
  <a href="paryz.html" class="oferta">
    <img src="https://source.unsplash.com/featured/?paris,travel" alt="Pary≈º">
    <h3 style="padding:10px 0 0 10px;">Romantyczny weekend w Pary≈ºu</h3>
    <p style="padding:0 0 10px 10px;">Odkryj uroki Pary≈ºa z dopasowanym planem podr√≥≈ºy.</p>
  </a>

  <a href="tatry.html" class="oferta">
    <img src="https://source.unsplash.com/featured/?mountains,travel" alt="Tatry">
    <h3 style="padding:10px 0 0 10px;">G√≥rska przygoda w Tatrach</h3>
    <p style="padding:0 0 10px 10px;">Plany tras, schronisk i najlepszych widok√≥w.</p>
  </a>

  <a href="rzym/rzym.html" class="oferta">
    <img src="https://i.imgur.com/jkGLiLu.jpeg" alt="Rzym">
    <div class="overlay">Cena wyjazdu: 1000 z≈Ç | Cena planu: 30 z≈Ç</div>
    <div class="text-overlay">
      <h3>Kulturowa wyprawa do Rzymu</h3>
      <p>Zwiedzaj stolicƒô W≈Çoch z przewodnikiem Wayfly</p>
    </div>
  </a>
</section>

<!-- Sekcja opinii -->
<section class="review-section" id="opinie">
  <h2>Dodaj swojƒÖ opiniƒô</h2>
  <form id="reviewForm" class="review-form">
    <input type="email" id="email" placeholder="Tw√≥j email" required>
    <input type="number" id="rating" min="1" max="5" placeholder="Ocena (1-5)" required>
    <input type="text" id="tripTo" placeholder="DokƒÖd lecia≈Çe≈õ?" required>
    <input type="date" id="tripStart" placeholder="Data rozpoczƒôcia podr√≥≈ºy" required>
    <input type="date" id="tripEnd" placeholder="Data zako≈Ñczenia podr√≥≈ºy" required>
    <textarea id="comment" placeholder="Twoja opinia" rows="4" required></textarea>
    <button type="submit">Wy≈õlij opiniƒô</button>
  </form>
  <div id="thankYouMessage"></div>
</section>
  
  <!-- Sekcja Wy≈õwietlania Opinii -->
  <section id="opinie">
  <h2>Opinie naszych klient√≥w</h2>

  <form id="opinia-form">
    <input type="text" name="name" placeholder="Twoje imiƒô" required>
    <textarea name="message" placeholder="Twoja opinia" required></textarea>
    <button type="submit">Wy≈õlij opiniƒô</button>
  </form>

  <div id="opinie-lista"></div>
</section>


<!-- Sekcja FAQ -->
<section id="faq">
  <h2>FAQ ‚Äì Najczƒô≈õciej zadawane pytania</h2>
  <h3>Jak otrzymaƒá w≈Çasny plan podr√≥≈ºy?</h3>
  <p>Skontaktuj siƒô z nami...</p>
</section>

<footer>
  2025 Wayfly ‚Äì indywidualne plany podr√≥≈ºy 
</footer>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, where, orderBy } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  // üîπ Konfiguracja Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyAVcX9Kn-YxFUEij_DqPoJoitfSAdVqPBY",
    authDomain: "wayfly-opinie.firebaseapp.com",
    projectId: "wayfly-opinie",
    storageBucket: "wayfly-opinie.firebasestorage.app",
    messagingSenderId: "961643779503",
    appId: "1:961643779503:web:41594b733dbe8769f14b5a"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const form = document.querySelector("#opinia-form");
  const opinieLista = document.querySelector("#opinie-lista");

  // üîπ Wysy≈Çanie opinii
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const name = form.name.value.trim();
    const message = form.message.value.trim();

    if (!name || !message) {
      alert("Proszƒô wype≈Çniƒá wszystkie pola.");
      return;
    }

    try {
      await addDoc(collection(db, "reviews"), {
        name,
        message,
        date: new Date().toISOString(),
        approved: false // üëà wymaga zatwierdzenia przez Ciebie
      });

      alert("Dziƒôkujemy za opiniƒô! Twoja opinia czeka na zatwierdzenie.");
      form.reset();
    } catch (err) {
      console.error("B≈ÇƒÖd przy wysy≈Çaniu opinii:", err);
      alert("WystƒÖpi≈Ç problem z wys≈Çaniem opinii.");
    }
  });

  // üîπ Pobieranie zatwierdzonych opinii
  async function wczytajOpinie() {
    const q = query(
      collection(db, "reviews"),
      where("approved", "==", true),
      orderBy("date", "desc")
    );

    const snapshot = await getDocs(q);
    opinieLista.innerHTML = "";

    snapshot.forEach((doc) => {
      const data = doc.data();
      const el = document.createElement("div");
      el.classList.add("opinia");
      el.innerHTML = `
        <p><strong>${data.name}</strong></p>
        <p>${data.message}</p>
        <p class="data">${new Date(data.date).toLocaleDateString("pl-PL")}</p>
      `;
      opinieLista.appendChild(el);
    });
  }

  wczytajOpinie();
</script>


</body>
</html>


















































